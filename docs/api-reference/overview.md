---
sidebar_position: 1
title: REST API Overview
---

# REST API Overview

The ZPOA Shield REST API provides programmatic access to the platform's core functionality, enabling you to integrate ZPOA Shield with custom tools, automate workflows, and build extensions. This page covers authentication, base URL conventions, rate limits, pagination, error handling, and key endpoints.

## Base URL

All API requests are made to the following base URL:

```
https://api.zpoashield.com/api/v1
```

All communication is encrypted via TLS 1.2 or higher. HTTP requests are automatically redirected to HTTPS.

## Authentication

The ZPOA Shield API uses Bearer token authentication. Include your API key in the `Authorization` header of every request:

```bash
curl -H "Authorization: Bearer zpoa_live_k8f2Gx9mPqR4tY7wZ1bN3cD5eF..." \
  https://api.zpoashield.com/api/v1/alerts
```

API keys are created and managed under **Settings > API Keys**. See the [API Key Management](/docs/administration/api-keys) page for details on scopes, rotation, and revocation.

## Rate Limits

Rate limits are enforced per API key and vary by subscription plan:

| Plan | Requests per Minute | Requests per Day |
|---|---|---|
| Starter | 60 | 10,000 |
| Professional | 300 | 100,000 |
| Enterprise | 1,000 | 1,000,000 |

Rate limit status is returned in response headers:

```
X-RateLimit-Limit: 300
X-RateLimit-Remaining: 298
X-RateLimit-Reset: 1718460120
```

When the limit is exceeded, the API returns `429 Too Many Requests` with a `Retry-After` header.

## Pagination

List endpoints return paginated results. Use the `page` and `per_page` query parameters to control pagination:

```bash
GET /api/v1/alerts?page=2&per_page=50
```

Pagination metadata is included in the response body:

```json
{
  "data": [...],
  "pagination": {
    "page": 2,
    "per_page": 50,
    "total_items": 1247,
    "total_pages": 25
  }
}
```

The default page size is 25. The maximum page size is 100.

## Error Codes

The API uses standard HTTP status codes and returns structured error responses:

```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "The 'severity' field must be one of: critical, high, medium, low, info.",
    "details": [
      {
        "field": "severity",
        "issue": "invalid_value",
        "value": "urgent"
      }
    ]
  }
}
```

| HTTP Status | Error Code | Description |
|---|---|---|
| 400 | `VALIDATION_ERROR` | Request body or parameters are invalid |
| 401 | `UNAUTHORIZED` | Missing or invalid API key |
| 403 | `FORBIDDEN` | API key lacks the required scope |
| 404 | `NOT_FOUND` | Requested resource does not exist |
| 409 | `CONFLICT` | Resource state conflict (e.g., duplicate) |
| 429 | `RATE_LIMITED` | Rate limit exceeded |
| 500 | `INTERNAL_ERROR` | Unexpected server error |
| 503 | `SERVICE_UNAVAILABLE` | Temporary outage or maintenance |

## Key Endpoints

### Alerts

Manage security alerts generated by the detection engine.

```bash
# List alerts (filterable by severity, status, source, date range)
GET /api/v1/alerts?severity=critical&status=open&per_page=50

# Get a specific alert
GET /api/v1/alerts/{alert_id}

# Update alert status
PATCH /api/v1/alerts/{alert_id}
Content-Type: application/json

{
  "status": "acknowledged",
  "assignee": "analyst@example.com",
  "notes": "Investigating potential lateral movement."
}
```

**Required Scope:** `alerts:read` for GET, `alerts:write` for PATCH

### Assets

Query and manage the unified asset inventory.

```bash
# List assets (filterable by type, OS, criticality, tags)
GET /api/v1/assets?type=server&criticality=high

# Get a specific asset
GET /api/v1/assets/{asset_id}

# Update asset metadata
PATCH /api/v1/assets/{asset_id}
Content-Type: application/json

{
  "criticality": "critical",
  "owner": "infrastructure-team",
  "tags": ["production", "pci-scope"]
}
```

**Required Scope:** `assets:read` for GET, `assets:write` for PATCH

### Connectors

View and manage integration connectors.

```bash
# List all connectors with their status
GET /api/v1/connectors

# Get connector details and health metrics
GET /api/v1/connectors/{connector_id}

# Test a connector's connectivity
POST /api/v1/connectors/{connector_id}/test

# Activate or deactivate a connector
PATCH /api/v1/connectors/{connector_id}
Content-Type: application/json

{
  "status": "active"
}
```

**Required Scope:** `connectors:read` for GET, `connectors:write` for POST/PATCH

### Detection Rules

Manage detection and correlation rules.

```bash
# List all detection rules
GET /api/v1/rules?enabled=true&category=identity

# Get a specific rule with logic details
GET /api/v1/rules/{rule_id}

# Create a custom detection rule
POST /api/v1/rules
Content-Type: application/json

{
  "name": "Multiple Failed Logins Followed by Success",
  "description": "Detect brute-force attacks: 5+ failed logins followed by a success within 10 minutes.",
  "severity": "high",
  "logic": {
    "type": "correlation",
    "conditions": [
      {"event_type": "auth_failure", "count": ">=5", "window": "10m", "group_by": "user"},
      {"event_type": "auth_success", "count": ">=1", "window": "10m", "group_by": "user"}
    ],
    "order": "sequential"
  },
  "mitre_technique": "T1110.001",
  "enabled": true
}
```

**Required Scope:** `rules:read` for GET, `rules:write` for POST/PATCH/DELETE

### Compliance

Query compliance posture and generate reports.

```bash
# List supported compliance frameworks
GET /api/v1/compliance/frameworks

# Get posture for a specific framework
GET /api/v1/compliance/frameworks/{framework_id}/posture

# Generate a compliance report
POST /api/v1/compliance/reports
Content-Type: application/json

{
  "framework": "pci-dss-4.0",
  "scope": "all",
  "format": "pdf"
}
```

**Required Scope:** `compliance:read`

## Request and Response Format

- All request bodies must be JSON with `Content-Type: application/json`.
- All responses are JSON.
- Timestamps follow ISO 8601 format (`2025-06-15T14:30:00Z`).
- IDs are UUID v4 strings.

## SDKs and Libraries

Official client libraries are available for:

- **Python:** `pip install zpoa-shield`
- **JavaScript/TypeScript:** `npm install @zpoa/shield-sdk`
- **Go:** `go get github.com/zpoa/shield-go`

Refer to the SDK documentation for language-specific usage examples and convenience methods.
